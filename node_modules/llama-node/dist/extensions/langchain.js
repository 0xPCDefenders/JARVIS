// src/extensions/langchain.ts
import { Embeddings } from "langchain/embeddings/base";
var LLamaEmbeddings = class extends Embeddings {
  constructor(params, llm) {
    var _a;
    super(params);
    if (((_a = params.maxConcurrency) != null ? _a : 1) > 1) {
      console.warn(
        "maxConcurrency > 1 not officially supported for llama-node, use at your own risk"
      );
    }
    this.llm = llm;
  }
  embedDocuments(documents) {
    const promises = documents.map(
      (doc) => this.llm.getDefaultEmbeddings(doc)
    );
    return Promise.all(promises);
  }
  embedQuery(document) {
    return this.llm.getDefaultEmbeddings(document);
  }
};
export {
  LLamaEmbeddings
};
//# sourceMappingURL=langchain.js.map